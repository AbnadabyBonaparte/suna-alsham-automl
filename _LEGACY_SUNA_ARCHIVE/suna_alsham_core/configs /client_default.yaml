# ===============================
# ALSHAM QUANTUM - Plugin System Configuration (PRODUCTION-GRADE)
# ===============================
# This file defines all core, security, monitoring, resource, and plugin settings for ALSHAM QUANTUM.
# All values are validated at runtime. Use this as a blueprint for robust, secure, and extensible deployments.
# ===============================

client_id: "alsham_default"  # Unique client identifier
core_required: true          # If true, core system must be present

# --- PLUGIN CONFIGURATION ---
plugins:
  analytics:
    version: "1.0.0"
    enabled: true
    priority: 1
    config:
      data_retention_days: 90
      real_time_processing: true
      dashboard_refresh_rate: 30
      advanced_analytics: true
    dependencies: []
    resources:
      cpu: "500m"
      memory: "512Mi"
    health_check_url: "http://localhost:8001/health"
  sales:
    version: "1.0.0"
    enabled: true
    priority: 2
    config:
      pipeline_stages: ["lead", "qualified", "opportunity", "closed"]
      auto_follow_up: true
      sla_hours: 24
      conversion_tracking: true
    dependencies: ["analytics"]
    resources:
      cpu: "750m"
      memory: "768Mi"
    health_check_url: "http://localhost:8002/health"
  support:
    version: "1.0.0"
    enabled: true
    priority: 3
    config:
      ticket_auto_assignment: true
      sla_monitoring: true
      escalation_levels: 3
      chatbot_enabled: true
    dependencies: ["analytics"]
    resources:
      cpu: "600m"
      memory: "640Mi"
    health_check_url: "http://localhost:8003/health"
  social_media:
    version: "1.0.0"
    enabled: true
    priority: 4
    config:
      platforms: ["twitter", "linkedin", "instagram"]
      auto_posting: true
      sentiment_monitoring: true
      content_scheduling: true
    dependencies: ["analytics"]
    resources:
      cpu: "400m"
      memory: "512Mi"
    health_check_url: "http://localhost:8004/health"

# --- MESSAGE BUS CONFIGURATION ---
message_bus:
  type: "rabbitmq"           # Supported: rabbitmq, kafka, nats
  host: "localhost"
  port: 5672
  virtual_host: "/"
  username: "alsham"
  password: "quantum123"
  ssl_enabled: false          # Set true for production
  connection_timeout: 30
  retry_attempts: 3
  retry_delay: 5

# --- MONITORING & ALERTING ---
monitoring:
  health_check_interval: 30   # seconds
  metrics_collection: true
  performance_tracking: true
  log_level: "INFO"
  alerting:
    enabled: true
    webhook_url: "http://localhost:8080/alerts"
    slack_channel: "#alsham-alerts"
    email_notifications: true
    critical_threshold: 90
    warning_threshold: 75

# --- SECURITY ---
security:
  plugin_authentication: true
  message_encryption: false   # Enable for production
  audit_logging: true
  access_control: "rbac"     # Supported: rbac, abac, none
  api_rate_limiting: true
  max_requests_per_minute: 1000
  # Advanced security (optional)
  allowed_ip_ranges: []       # e.g. ["10.0.0.0/8", "192.168.1.0/24"]
  jwt_secret: "change_me_for_prod"

# --- RESOURCE MANAGEMENT ---
resources:
  default_limits:
    cpu: "500m"
    memory: "512Mi"
    max_plugins: 10
  scaling:
    auto_scaling: false
    min_replicas: 1
    max_replicas: 3
  node_selector:
    environment: "production"
    region: "us-east-1"

# --- DEVELOPMENT & TESTING ---
development:
  debug_mode: false
  hot_reload: false
  plugin_dev_mode: false
  mock_services: true
  test_data_enabled: false

# --- CLIENT CUSTOMIZATION ---
client_settings:
  timezone: "UTC"
  language: "en-US"
  currency: "USD"
  date_format: "YYYY-MM-DD"
  time_format: "24h"

# --- FEATURE FLAGS ---
features:
  experimental_plugins: false
  beta_features: false
  advanced_analytics: true
  ai_insights: true
  custom_dashboards: true
  multi_tenant: false

# --- BACKUP & RECOVERY ---
backup:
  enabled: true
  frequency: "daily"
  retention_days: 30
  backup_location: "/backups"
  encryption_enabled: true

# --- PLUGIN MARKETPLACE ---
marketplace:
  enabled: false
  auto_updates: false
  allow_third_party: false
  verification_required: true

# --- INTEGRATION & API (EXAMPLES) ---
integration:
  external_api_endpoints: []  # e.g. ["https://api.partner.com/v1"]
  webhook_secrets: []         # List of secrets for webhook validation

# --- AUDIT & COMPLIANCE ---
audit:
  enabled: true
  log_retention_days: 180
  export_format: "json"

# --- FALLBACK & SAFE DEFAULTS ---
fallback:
  plugin_start_timeout: 60    # seconds
  max_restart_attempts: 3
  safe_mode_on_failure: true

# --- RECOMMENDATIONS ---
# - Always change default passwords and secrets for production
# - Enable message_encryption and ssl_enabled in production
# - Review allowed_ip_ranges and access_control for security
# - Set backup_location to a secure, offsite path
# - Use monitoring.alerting for proactive incident response
